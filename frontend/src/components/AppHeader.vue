<template>
  <header class="header">
    <div class="header-content">
      <div class="brand">
        <div class="brand-icon">ğŸ¥</div>
        <h1 class="brand-title">å­¦ç”Ÿå¥åº·ç®¡ç†ç³»ç»Ÿ</h1>
      </div>
      
      <div class="user-section">
        <div class="user-avatar">
          {{ userInitial }}
        </div>
        <div class="user-info">
          <div class="user-name">{{ currentUser?.userName || 'ç”¨æˆ·' }}</div>
          <div class="user-role">å­¦ç”Ÿ</div>
        </div>
        <button @click="handleLogout" class="logout-btn">
          <span>ğŸšª</span>
          <span>é€€å‡ºç™»å½•</span>
        </button>
      </div>
    </div>
  </header>
</template>

<script setup>
import { computed } from 'vue';

const props = defineProps({
  currentUser: {
    type: Object,
    default: null
  }
});

const emit = defineEmits(['logout']);

const userInitial = computed(() => {
  const name = props.currentUser?.userName || 'ç”¨æˆ·';
  return name.charAt(0).toUpperCase();
});

const handleLogout = () => {
  emit('logout');
};
</script>